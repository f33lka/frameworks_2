# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –°–∏—Å—Ç–µ–º–∞–ö–æ–Ω—Ç—Ä–æ–ª—è

## üöÄ –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Service Role –∫–ª—é—á –∏–∑ Supabase

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://app.supabase.com
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. Settings ‚Üí API
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `service_role` –∫–ª—é—á (–ù–ï anon key!)

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á:

```env
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à_—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
docker-compose up --build
```

**–ò–ª–∏** –ª–æ–∫–∞–ª—å–Ω–æ (–Ω—É–∂–µ–Ω Node.js 20+):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∑–∞–Ω–∏–º–∞–µ—Ç ~2 –º–∏–Ω—É—Ç—ã)
npm run install:all

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ 3 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:
npm run dev:users      # –¢–µ—Ä–º–∏–Ω–∞–ª 1
npm run dev:orders     # –¢–µ—Ä–º–∏–Ω–∞–ª 2
npm run dev:gateway    # –¢–µ—Ä–º–∏–Ω–∞–ª 3
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
curl http://localhost:3000/health
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "success": true,
  "data": {
    "service": "api-gateway",
    "status": "healthy"
  }
}
```

## üéØ –ü–µ—Ä–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

```bash
curl -X POST http://localhost:3000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123",
    "name": "–¢–µ—Å—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"
  }'
```

### 2. –í—Ö–æ–¥

```bash
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }'
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞!**

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

```bash
curl -X POST http://localhost:3000/api/v1/orders \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer –í–ê–®_–¢–û–ö–ï–ù" \
  -d '{
    "items": [
      {
        "productName": "–¶–µ–º–µ–Ω—Ç –ú500",
        "quantity": 10,
        "price": 500
      }
    ]
  }'
```

### 4. –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤

```bash
curl http://localhost:3000/api/v1/orders \
  -H "Authorization: Bearer –í–ê–®_–¢–û–ö–ï–ù"
```

## üì¶ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Postman

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. Import ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `docs/postman_collection.json`
3. –ù–∞–∂–º–∏—Ç–µ "Send" –Ω–∞ –∑–∞–ø—Ä–æ—Å "Register User"
4. –ó–∞—Ç–µ–º "Send" –Ω–∞ "Login" (—Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
5. –ü—Ä–æ–π–¥–∏—Ç–µ—Å—å –ø–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—Å–∞–º –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### Docker:
```bash
docker-compose logs -f
```

### –õ–æ–∫–∞–ª—å–Ω–æ:
–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **docs/TESTING.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- **docs/ARCHITECTURE.md** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **docs/openapi.yaml** - API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

### "Missing Supabase configuration"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `SUPABASE_SERVICE_ROLE_KEY` –≤ `.env`

### "Service unavailable"
‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–ø—É—â–µ–Ω—ã

### "Invalid token"
‚Üí –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/api/v1/auth/login`

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–û–û–û ¬´–°–∏—Å—Ç–µ–º–∞–ö–æ–Ω—Ç—Ä–æ–ª—è¬ª

---

**–ì–æ—Ç–æ–≤–æ! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç üéâ**
